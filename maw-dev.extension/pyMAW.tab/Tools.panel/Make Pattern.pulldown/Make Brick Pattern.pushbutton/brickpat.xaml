<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Brick &amp; Tile Pattern Generator"
        WindowStartupLocation="CenterScreen"
        WindowStyle="ToolWindow"
        Width="580" SizeToContent="Height"
        Background="White"
        Topmost="True">

    <StackPanel Margin="15">

        <!-- 1. PATTERN SELECTION -->
        <GroupBox Header="Select Pattern" FontWeight="Bold" Margin="0,0,0,10" BorderThickness="1">
            <StackPanel Margin="10">
                <ScrollViewer Height="90" VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Auto">
                    <ItemsControl Name="ImagePalette" ItemsSource="{Binding ImageThumbnails}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Image Tag="{Binding PatternName}" Source="{Binding Thumbnail}"
                                       Width="50" Height="43" Margin="5" RenderOptions.BitmapScalingMode="HighQuality"
                                       MouseLeftButtonDown="Thumbnail_MouseLeftButtonDown" ToolTip="{Binding ToolTip}" />
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
                <TextBlock TextWrapping="Wrap" Margin="0,0,0,8">
                    <Run Name="SelectedTitle" FontWeight="Bold" Text="Select a pattern"/>
                </TextBlock>
                <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="310"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Column 1: Preview -->
                    <Image Name="SelectedImage"
                        Grid.Column="0"
                        Margin="0,0,10,0"
                        Width="297" Height="255"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        Stretch="Uniform" />

                    <!-- Column 2: Description -->
                    <TextBlock TextWrapping="Wrap" Grid.Column="1" Margin="0,10,0,0">
                        <Run Name="SelectedDescription" FontWeight="Normal" Text=""/>
                    </TextBlock>
                </Grid>
            </StackPanel>
        </GroupBox>

        <!-- 2. DIMENSIONS -->
        <GroupBox Name="DimensionsGroup" Header="Dimensions (mm)" FontWeight="Bold" Margin="0,5,0,10" BorderThickness="1">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="310"/>
                    <ColumnDefinition Width="Auto"/>
                    <!-- This column will receive all remaining Width -->
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <!-- This row will receive all remaining Height -->
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Column 1: Diagram -->
                <Image Name="BrickDims"
                    Grid.Column="0" Grid.Row="0" Grid.RowSpan="5"
                    Width="200"
                    Margin="0,0"
                    RenderOptions.BitmapScalingMode="HighQuality"
                    Stretch="Uniform" />

                <!-- Column 2: Inputs -->
                <TextBlock Grid.Column="1" Grid.Row="0" Text="Height:" Margin="5,0,5,8" HorizontalAlignment="Right" VerticalAlignment="Center" />
                <TextBox Name="HeightInput" Grid.Column="2" Grid.Row="0" Width="80" Margin="5,0,5,8" HorizontalAlignment="Left" Text=""/>
                <TextBlock Grid.Column="1" Grid.Row="1" Text="Width:" Margin="5,0,5,8" HorizontalAlignment="Right" VerticalAlignment="Center" />
                <TextBox Name="WidthInput" Grid.Column="2" Grid.Row="1" Width="80" Margin="5,0,5,8" HorizontalAlignment="Left" Text=""/>
                <TextBlock Grid.Column="1" Grid.Row="2" Text="Depth:" Margin="5,0,5,8" HorizontalAlignment="Right" VerticalAlignment="Center" />
                <TextBox Name="DepthInput" Grid.Column="2" Grid.Row="2" Width="80" Margin="5,0,5,8" HorizontalAlignment="Left" Text="" />
                <TextBlock Grid.Column="1" Grid.Row="3" Text="Joint Size:" Margin="5,0,5,8" HorizontalAlignment="Right" VerticalAlignment="Center" />
                <TextBox Name="JointSizeInput" Grid.Column="2" Grid.Row="3" Width="80" Margin="5,0,5,8" HorizontalAlignment="Left" Text="" />

            </Grid>
        </GroupBox>

        <!-- 3. OUTPUTS -->
        <GroupBox Header="Select Outputs" FontWeight="Bold" Margin="0,5,0,10" BorderThickness="1">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="225"/>
                    <!-- This column will receive all remaining Width -->
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Grid.Row="0" Margin="10">
                    <CheckBox Name="CheckNormal" Content="Generate Normal Map" IsChecked="True" Margin="0,0,0,8" />
                    <CheckBox Name="CheckBump" Content="Generate Bump Map" IsChecked="True" Margin="0,0,0,8" />
                    <CheckBox Name="CheckPattern" Content="Create Revit Model Fill Pattern" IsChecked="False" Margin="0,0,0,8" />
                    <CheckBox Name="CheckFillRegion" Content="Create Revit Filled Region Type" IsChecked="False" Margin="0,0,0,8" />
                    <CheckBox Name="CheckMaterial" Content="Create Revit Material" IsChecked="False" Margin="0,0,0,8" />
                </StackPanel>

                <!-- Material Colors -->
                <Grid Grid.Column="1" Grid.Row="0" Margin="0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBlock Name="BrickColorLabel"
                            Grid.Column="0" Grid.Row="1"
                            Text="Brick Face Colour:"
                            Margin="5,0,5,8"
                            HorizontalAlignment="Right" VerticalAlignment="Center"
                            FontWeight="Normal" />
                    <Button Name="BrickColorSwatch"
                            Grid.Column="1" Grid.Row="1"
                            Width="60" Height="25" Margin="5,0,35,5"
                            Click="SelectBrickColor_Click"
                            BorderBrush="Black" BorderThickness="1" />
                    <TextBlock Name="MortarColorLabel"
                            Grid.Column="0" Grid.Row="2"
                            Text="Mortar Joint Colour:"
                            Margin="5,0,5,8"
                            HorizontalAlignment="Right" VerticalAlignment="Center"
                            FontWeight="Normal" />
                    <Button Name="MortarColorSwatch"
                            Grid.Column="1" Grid.Row="2"
                            Width="60" Height="25" Margin="5,0,35,8"
                            Click="SelectMortarColor_Click"
                            BorderBrush="Black" BorderThickness="1" />
                </Grid>
            </Grid>
        </GroupBox>

        <!-- 4. UNITS -->
        <GroupBox Header="Unit of Measurement:" FontWeight="Bold" Margin="0,5,0,10" BorderThickness="1">
            <StackPanel Orientation="Horizontal" Margin="10">
                <RadioButton Name="MetricRadioButton" Content="Metric" IsChecked="True" Margin="0,0,15,0" Checked="Unit_Changed" />
                <RadioButton Name="ImperialRadioButton" Content="Imperial" IsChecked="False" Margin="0" Checked="Unit_Changed" />
            </StackPanel>
        </GroupBox>

        <!-- 5. GENERATE BUTTON -->
        <Button Name="GenerateButton" Content="Generate"
                Width="120" Height="30"
                Margin="0,10,0,5"
                HorizontalAlignment="Center"
                Click="GenerateButton_Click" />

    </StackPanel>
</Window>
